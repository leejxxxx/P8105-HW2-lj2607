<<<<<<< HEAD
---
title: "P8105-HW2-lj2607"
author: "Li Jiang"
date: "2024-10-01"
output: github_document
---

#Problem 1

```{r}
#load the required packages
library(tidyverse)
```

```{r}
#importing data table
nyc_transit_data <- read.csv("Datasets/NYC_Transit_Subway_Entrance_And_Exit_Data.csv")

#Visually inspect part of the dataset
head(nyc_transit_data,5)
```

```{r}
#check the variable names
names(nyc_transit_data)

#clean up variable names
nyc_transit_data = janitor::clean_names(nyc_transit_data)
names(nyc_transit_data)
```

```{r}
#clean the data and retain the variable as required 
nyc_transit_clean <- nyc_transit_data %>%
  select(division, line, station_name = station_name, station_latitude, station_longitude, 
         route1, route2, route3, route4, route5, route6, route7, route8, route9, route10, route11,
         entry, vending, entrance_type, ada) %>%
   mutate(entry = case_match(
          entry,
          "YES" ~ TRUE,
          "NO" ~ FALSE))

#visually check the dataset
view(nyc_transit_clean)
```

```{r}
#check the size of dataset

nrow(nyc_transit_clean)
ncol(nyc_transit_clean)
```

Description of the dataset nyc_transit_clean:

The dataset has `r ncol(nyc_transit_clean)` columns(variables) and `r nrow(nyc_transit_clean)` rows. The dimenison of the resulting data set is : `r dim(nyc_transit_clean)`. The dataset contain variables : `r names(nyc_transit_clean)`. The data are not tidy because the route number is spread across 11 columns and 



#Problem 2

```{r}
# load the package

library(tidyverse)
library(readxl)

# Import Mr.Trash Wheel dataset, specifying the sheet and range

mr_trash_data <- read_excel("Datasets/202409 Trash Wheel Collection Data.xlsx",
                             sheet = 'Mr. Trash Wheel',
                             range = "A2:N653",
                             na = c("NA", "", ".")) %>% 
                   janitor::clean_names() %>% # use reasonable variable names
                   drop_na(dumpster) %>%      # drop the rows without specific dumpster                                                           information
                   mutate(sports_balls = as.integer(round(sports_balls,digits = 0)),
                                              # convert sport ball to integer variable
                          trash_wheel = "mr_trash", # creating additional variable recording                                                            trash_wheel           
                          year = as.numeric(year)) # convert year to numerical variable
                                             

# visually inspect dataset
view(mr_trash_data)
```

```{r}
#Import Professor.Trash Wheel dataset, specifying the sheet and range

prof_trash_data <- read_excel("Datasets/202409 Trash Wheel Collection Data.xlsx",
                              sheet = 'Professor Trash Wheel',
                              range = "A2:M120",
                              na = c("NA", "", ".")) %>% 
                   janitor::clean_names() %>% # use reasonable variable names
                   drop_na(dumpster) %>%      # drop the rows without specific dumpster                                                           information
                   mutate(trash_wheel = "prof_trash") 
                                              # creating additional variable recording trash_wheel        

# visually inspect dataset
view(prof_trash_data)
```

```{r}
#Import Gwynnda Trash Wheel dataset, specifying the sheet and range

gwynnda_trash_data <- read_excel("Datasets/202409 Trash Wheel Collection Data.xlsx",
                              sheet = 'Gwynnda Trash Wheel',
                              range = "A2:L265",
                              na = c("NA", "", ".")) %>% 
                   janitor::clean_names() %>% # use reasonable variable names
                   drop_na(dumpster) %>%      # drop the rows without specific dumpster                                                           information
                   mutate(trash_wheel = "gwynnda_trash") 
                                              # creating additional variable recording trash_wheel        

# visually inspect dataset
view(gwynnda_trash_data)
```

```{r}
#Combine three sheets to produce a single tidy sheet
trash_wheel_data = 
  bind_rows(mr_trash_data, prof_trash_data, gwynnda_trash_data) %>% 
  janitor::clean_names()

# visually inspect dataset
view(trash_wheel_data)
```
```

